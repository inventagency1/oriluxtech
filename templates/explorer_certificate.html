<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificado {{ certificate.certificate_id }} - Oriluxchain Explorer</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        :root { --gold: #D4AF37; --dark: #1a1a2e; --darker: #0f0f1a; }
        body { background: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%); min-height: 100vh; }
        .gold-gradient { background: linear-gradient(135deg, var(--gold) 0%, #B8860B 100%); }
        .card { background: rgba(255, 255, 255, 0.05); backdrop-filter: blur(10px); border: 1px solid rgba(212, 175, 55, 0.2); }
        .hash-text { font-family: 'Courier New', monospace; font-size: 0.85rem; word-break: break-all; }
        .verified-badge { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
    </style>
</head>
<body class="text-white">
    <header class="gold-gradient py-4 shadow-lg">
        <div class="container mx-auto px-4">
            <div class="flex items-center gap-4">
                <a href="/explorer" class="text-white hover:text-white/80">‚Üê Volver</a>
                <h1 class="text-2xl font-bold">Certificado de Joyer√≠a</h1>
            </div>
        </div>
    </header>

    <section class="container mx-auto px-4 py-8">
        <!-- Status Banner -->
        {% if verified %}
        <div class="bg-green-500/20 border border-green-500/50 rounded-xl p-4 mb-6 flex items-center gap-3">
            <span class="text-4xl verified-badge">‚úÖ</span>
            <div>
                <p class="text-green-400 font-bold text-lg">Certificado Verificado en Blockchain</p>
                <p class="text-green-300/80 text-sm">Este certificado est√° registrado de forma inmutable en Oriluxchain</p>
            </div>
        </div>
        {% endif %}

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- Certificate Info -->
            <div class="card rounded-xl p-6">
                <h2 class="text-xl font-bold text-yellow-400 mb-4 flex items-center gap-2">
                    <span>üìú</span> Informaci√≥n del Certificado
                </h2>
                <div class="space-y-4">
                    <div>
                        <p class="text-gray-400 text-sm">ID del Certificado</p>
                        <p class="text-xl font-bold text-yellow-400">{{ certificate.certificate_id }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Estado</p>
                        <span class="px-3 py-1 bg-green-500/20 text-green-400 rounded-full">
                            {{ certificate.status | default('active') | upper }}
                        </span>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Fecha de Emisi√≥n</p>
                        <p>{{ certificate.issue_date }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Emisor</p>
                        <p class="text-blue-400">{{ certificate.issuer }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Propietario</p>
                        <p class="hash-text text-green-400">{{ certificate.owner }}</p>
                    </div>
                </div>
            </div>

            <!-- Blockchain Info -->
            <div class="card rounded-xl p-6">
                <h2 class="text-xl font-bold text-yellow-400 mb-4 flex items-center gap-2">
                    <span>‚õìÔ∏è</span> Datos de Blockchain
                </h2>
                <div class="space-y-4">
                    <div>
                        <p class="text-gray-400 text-sm">Hash de Transacci√≥n</p>
                        <p class="hash-text text-purple-400 bg-black/30 p-2 rounded">{{ tx_hash }}</p>
                    </div>
                    {% if block_index is defined %}
                    <div>
                        <p class="text-gray-400 text-sm">Bloque</p>
                        <a href="/explorer/block/{{ block_index }}" class="text-yellow-400 hover:underline font-bold">
                            #{{ block_index }}
                        </a>
                    </div>
                    {% endif %}
                    <div>
                        <p class="text-gray-400 text-sm">Red</p>
                        <p class="text-yellow-400">Oriluxchain Mainnet</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">URL de Verificaci√≥n</p>
                        <p class="hash-text text-blue-400">{{ certificate.verification_url }}</p>
                    </div>
                </div>
            </div>

            <!-- Jewelry Item Info -->
            {% if certificate.item %}
            <div class="card rounded-xl p-6 lg:col-span-2">
                <h2 class="text-xl font-bold text-yellow-400 mb-4 flex items-center gap-2">
                    <span>üíé</span> Informaci√≥n de la Joya
                </h2>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div>
                        <p class="text-gray-400 text-sm">Tipo</p>
                        <p class="font-bold">{{ certificate.item.jewelry_type }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Material</p>
                        <p class="font-bold">{{ certificate.item.material }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Pureza</p>
                        <p class="font-bold">{{ certificate.item.purity }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Peso</p>
                        <p class="font-bold">{{ certificate.item.weight }}g</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Joyero</p>
                        <p class="font-bold">{{ certificate.item.jeweler }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Origen</p>
                        <p class="font-bold">{{ certificate.item.origin_country }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Valor Estimado</p>
                        <p class="font-bold text-green-400">${{ certificate.item.estimated_value | int }}</p>
                    </div>
                    <div>
                        <p class="text-gray-400 text-sm">Fecha de Creaci√≥n</p>
                        <p class="font-bold">{{ certificate.item.creation_date }}</p>
                    </div>
                </div>
                {% if certificate.item.description %}
                <div class="mt-4">
                    <p class="text-gray-400 text-sm">Descripci√≥n</p>
                    <p class="mt-1">{{ certificate.item.description }}</p>
                </div>
                {% endif %}
            </div>
            {% endif %}
        </div>

        <!-- QR Code -->
        {% if certificate.qr_code %}
        <div class="card rounded-xl p-6 mt-6 text-center">
            <h2 class="text-xl font-bold text-yellow-400 mb-4">üì± C√≥digo QR de Verificaci√≥n</h2>
            <img src="{{ certificate.qr_code }}" alt="QR Code" class="mx-auto max-w-xs rounded-lg">
            <p class="text-gray-400 text-sm mt-4">Escanea para verificar la autenticidad</p>
        </div>
        {% endif %}
    </section>

    <footer class="border-t border-white/10 py-6 mt-8">
        <div class="container mx-auto px-4 text-center text-gray-500">
            <p>Oriluxchain Explorer - Certificaci√≥n de Joyer√≠a</p>
            <p class="text-sm mt-2">Powered by Veralix.io</p>
        </div>
    </footer>
</body>
</html>
